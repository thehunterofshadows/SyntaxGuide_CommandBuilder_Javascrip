<!DOCTYPE html>
<script>
  function codeSegment() {
    //Add the data to the plot
    myCode = "g = ggplot(" + document.getElementById("dataInput").value + 
      ", aes(" +
      document.getElementById("xInput").value+
      "," +
      document.getElementById("yInput").value+
      "))"

    //Add the plot type
    myCode = myCode + ' + ' + document.getElementById("plotType").value + '()' 
    
    //add labels if requested
    if (document.getElementById("labelsYN").checked){
      myCode = myCode + " + labs(" +
        'x="'+document.getElementById("xLabel").value+
        '",y="'+document.getElementById("xLabel").value+
        '",title="'+document.getElementById("titleLabel").value+
        '")'
      ;
    }

        //add labels if requested
    if (document.getElementById("smoothYN").checked){
      myCode = myCode + " + geom_smooth(" +
        'method="'+document.getElementById("smoothType").value + '" '
        if(document.getElementById("seYN").checked){
          myCode = myCode + 'se=TRUE)'
        } else {
          myCode = myCode + 'se=FALSE)'
        }
        '",y="'+document.getElementById("xLabel").value+
        '",title="'+document.getElementById("titleLabel").value+
        '")'
      ;
    }

    return myCode
  }
  </script>
<html>

<body>



<p id="demo"></p>

<p id="codeBlock">JavaScript can change HTML content.</p>


<form>
  <label for="dataInput">Data: </label><input type="text" id="dataInput" name="dataInput" placeholder="data">
  <br><br>
  <label for="xInput">X: </label><input type="text" id="xInput" name="xInput" placeholder="xName">
  <label for="yInput">Y: </label><input type="text" id="yInput" name="yInput" placeholder="yName">
  <br><br>
  <label for="plotType">Choose Plot Type:</label>
  <select name="plotType" id="plotType">
    <option value="geom_point">Point</option>
    <option value="geom_hist">Histogram</option>
  </select>
  <br><br>

  <label for="labelsYN">Set Manual Labels?:</label> <input type="checkbox" id="labelsYN" name="labelsYN">
  
  <br>

  <label for="xLabel">X Label: &nbsp;</label><input type="text" id="xLabel" name="xLabel" placeholder="xLabel">
  
  <br>

  <label for="yLabel">Y Label:  &nbsp;</label><input type="text" id="yLabel" name="yLabel" placeholder="yLabel">
  
  <br>

  <label for="titleLabel">Title: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="text" id="titleLabel" name="titleLabel" placeholder="titleLabel">

  <br><br>

  <label for="smoothYN">Add regression line:</label> <input type="checkbox" id="smoothYN" name="smoothYN">
  
  <br>

  <label for="smoothType">Choose Plot Type:</label> <select name="smoothType" id="smoothType">
    <option value="lm">LM - Linear model</option>
    <option value="loess">Loess</option>
  </select>
  
  <br>

  <label for="seYN">Include confidance level:</label> <input type="checkbox" id="seYN" name="seYN">
</form>
<br>

<button type="button" onclick='document.getElementById("codeBlock").innerHTML = codeSegment()'>Click Me!</button>
<!-- create javascript function to create the ggplot code so you can use if statements -->
</body>
</html> 
